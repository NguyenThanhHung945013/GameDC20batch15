<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PixiJS Components Example</title>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/pixi.js@7.x/dist/pixi.min.js"></script>

    <script>
        // Tạo một ứng dụng PixiJS
        const app = new PIXI.Application({ width: 800, height: 600 });
        document.body.appendChild(app.view);

        // Container để nhóm các thành phần
        const container = new PIXI.Container();
        app.stage.addChild(container);

        // Component hình tròn
        class CircleComponent {
            constructor(x, y, radius, color) {
                this.graphics = new PIXI.Graphics();
                this.graphics.beginFill(color);
                this.graphics.drawCircle(0, 0, radius);
                this.graphics.endFill();
                this.graphics.x = x;
                this.graphics.y = y;

                // Thêm mô tả tiện ích
                this.graphics.accessible = true;
                this.graphics.accessibleTitle = 'Circle';
                this.graphics.accessibleHint = 'A red circle on the screen';
            }

            addToContainer() {
                container.addChild(this.graphics);
            }
        }

        // Component hình vuông
        class SquareComponent {
            constructor(x, y, size, color) {
                this.graphics = new PIXI.Graphics();
                this.graphics.beginFill(color);
                this.graphics.drawRect(0, 0, size, size);
                this.graphics.endFill();
                this.graphics.x = x;
                this.graphics.y = y;

                // Thêm mô tả tiện ích
                this.graphics.accessible = true;
                this.graphics.accessibleTitle = 'Square';
                this.graphics.accessibleHint = 'A green square on the screen';
            }

            addToContainer() {
                container.addChild(this.graphics);
            }
        }

        // Sử dụng các thành phần để vẽ
        const circle = new CircleComponent(200, 300, 50, 0xFF0000);
        const square = new SquareComponent(400, 300, 100, 0x00FF00);

        // Thêm các thành phần vào Container
        circle.addToContainer();
        square.addToContainer();

        // Ticker để quản lý vòng lặp chính
        app.ticker.add(() => {
            // Mọi logic cập nhật ở đây
        });

        // Sự kiện khi nhấn chuột vào hình tròn
        circle.graphics.interactive = true;
        circle.graphics.on('pointerdown', () => {
            console.log('Circle clicked!');
        });
    </script>
</body>
</html>
